/*! grapesjs-preset-mautic - 1.0.13 */
!function(e,t){'object'==typeof exports&&'object'==typeof module?module.exports=t():'function'==typeof define&&define.amd?define([],t):'object'==typeof exports?exports["grapesjs-preset-mautic"]=t():e["grapesjs-preset-mautic"]=t()}(window,(function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(e,'__esModule',{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&'object'==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,'default',{enumerable:!0,value:e}),2&t&&'string'!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,'a',t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.AssetManager,o=e.Panels,r=e.Modal,i=e.Commands,a=e.getConfig(),c=!1;a.plugins.includes('grapesjs-mjml')&&(c=!0);var l=s({sourceEdit:1,sourceEditBtnLabel:'Edit',sourceEditModalTitle:'Edit code',deleteAssetConfirmText:'Are you sure?',showLayersManager:0,showImportButton:0},t);if(n.addType('image',{view:{onRemove:function(e){e.stopPropagation();var t=this.model;confirm(l.deleteAssetConfirmText)&&t.collection.remove(t)}}}),e.on('load',(function(){var t=grapesjs.$,n=o.getButton('views','open-tm');n&&n.set('active',1);var r=o.getButton('views','open-sm');r&&r.set('active',1),o.removeButton("views","open-tm"),l.showLayersManager||o.removeButton("views","open-layers"),l.showImportButton||(c?o.removeButton("options","mjml-import"):o.removeButton("options","gjs-open-import-template"));var i=t("<div class=\"gjs-sm-sector no-select\"><div class=\"gjs-sm-title\"><span class=\"icon-settings fa fa-cog\"></span> Settings</div><div class=\"gjs-sm-properties\" style=\"display: none;\"></div></div>"),s=i.find('.gjs-sm-properties');s.append(t('.gjs-trt-traits')),t('.gjs-sm-sectors').before(i),i.find('.gjs-sm-title').on('click',(function(){var e=s.get(0).style,t='none'===e.display;e.display=t?'block':'none'}));var a=e.Panels.getButton('views','open-blocks');a&&a.set('active',1)})),l.sourceEdit){var u=a.stylePrefix,d=e.CodeManager.getViewer('CodeMirror').clone(),p=document.createElement('div'),f=document.createElement('button');d.set({codeName:'htmlmixed',readOnly:0,theme:'hopscotch',autoBeautify:!0,autoCloseTags:!0,autoCloseBrackets:!0,lineWrapping:!0,styleActiveLine:!0,smartIndent:!0,indentWithTabs:!0}),f.innerHTML=l.sourceEditBtnLabel,f.className=u+'btn-prim '+u+'btn-import',f.onclick=function(){var t=d.editor.getValue();e.DomComponents.getWrapper().set('content',''),e.setComponents(t.trim()),r.close()},i.add('html-edit',{run:function(e,t){t&&t.set('active',0);var n,o=d.editor;if(r.setTitle(l.sourceEditModalTitle),!o){var i=document.createElement('textarea');p.appendChild(i),p.appendChild(f),d.init(i),o=d.editor}n=c?e.getHtml():e.runCommand('gjs-get-inlined-html'),r.setContent(''),r.setContent(p),d.setContent(n),r.open(),o.refresh()}}),o.addButton('options',[{id:'edit',className:'fa fa-edit',command:'html-edit',attributes:{title:l.sourceEditModalTitle}}])}}}])}));
//# sourceMappingURL=grapesjs-preset-mautic.min.js.map