<script type="text/javascript">
  let mauticLang = 'en';
  let mauticBasePath = '';
  let mauticEnv = 'dev';
  let mauticAjaxCsrf = 'test';
  let htmlBasic =
    ' <!doctype html> <html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office"> <head> <title> </title> <!--[if !mso]><!--> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <!--<![endif]--> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <style type="text/css"> #outlook a { padding:0; } body { margin:0;padding:0;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%; } table, td { border-collapse:collapse;mso-table-lspace:0pt;mso-table-rspace:0pt; } img { border:0;height:auto;line-height:100%; outline:none;text-decoration:none;-ms-interpolation-mode:bicubic; } p { display:block;margin:13px 0; } </style> <!--[if mso]> <xml> <o:OfficeDocumentSettings> <o:AllowPNG/> <o:PixelsPerInch>96</o:PixelsPerInch> </o:OfficeDocumentSettings> </xml> <![endif]--> <!--[if lte mso 11]> <style type="text/css"> .mj-outlook-group-fix { width:100% !important; } </style> <![endif]--> <!--[if !mso]><!--> <link href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,500,700" rel="stylesheet" type="text/css"> <style type="text/css"> @import url(https://fonts.googleapis.com/css?family=Ubuntu:300,400,500,700); </style> <!--<![endif]--> <style type="text/css"> @media only screen and (min-width:480px) { .mj-column-per-100 { width:100% !important; max-width: 100%; } } </style> <style type="text/css"> </style> </head> <body style="word-spacing:normal;"> <div style="" > <!--[if mso | IE]><table align="center" border="0" cellpadding="0" cellspacing="0" class="" style="width:600px;" width="600" ><tr><td style="line-height:0px;font-size:0px;mso-line-height-rule:exactly;"><![endif]--> <div  style="margin:0px auto;max-width:600px;"> <table align="center" border="0" cellpadding="0" cellspacing="0" role="presentation" style="width:100%;" > <tbody> <tr> <td style="direction:ltr;font-size:0px;padding:20px 0;text-align:center;" > <!--[if mso | IE]><table role="presentation" border="0" cellpadding="0" cellspacing="0"><tr><td class="" style="vertical-align:top;width:600px;" ><![endif]--> <div class="mj-column-per-100 mj-outlook-group-fix" style="font-size:0px;text-align:left;direction:ltr;display:inline-block;vertical-align:top;width:100%;" > <table border="0" cellpadding="0" cellspacing="0" role="presentation" style="vertical-align:top;" width="100%" > <tbody> <tr> <td align="left" style="font-size:0px;padding:10px 25px;word-break:break-word;" > <div style="font-family:Ubuntu, Helvetica, Arial, sans-serif;font-size:13px;line-height:1;text-align:left;color:#000000;" >My HTML Company</div> </td> </tr> </tbody> </table> </div> <!--[if mso | IE]></td></tr></table><![endif]--> </td> </tr> </tbody> </table> </div> <!--[if mso | IE]></td></tr></table><![endif]--> </div> </body> </html>';
  let mjmlbasic =
    '<mjml><mj-body> <mj-section> <mj-column> <mj-text>My MJML Company</mj-text> </mj-column> </mj-section> </mj-body> </mjml>';
  let assets = '[]';
  let dynamicContentPrototype =
    '<div class="tab-pane dynamic-content bdr-w-0 fade" id="emailform_dynamicContent___name__"> <div class="panel"> <ul class="bg-auto nav nav-tabs pr-md pl-md" id="dynamicContentFilterTabs___name__"><li><a role="tab" class="addNewDynamicContentFilter" data-index="__name__"><i class="fa fa-plus text-success"></i> New</a></li><li class="active"><a data-toggle="tab" href="#emailform_dynamicContent___name___default" role="tab">Default</a></li></ul><div class="tab-content pa-md"><div class="tab-pane bdr-w-0 active" id="emailform_dynamicContent___name___default"><div class="row hidden"><div class="col-xs-10"><div class="row"> <div class="form-group col-xs-12 "> <label class="required" for="emailform_dynamicContent___name___tokenName" >Name</label>        <input type="text" id="emailform_dynamicContent___name___tokenName" name="emailform[dynamicContent][__name__][tokenName]" required="required" class="form-control dynamic-content-token-name" autocomplete="false" />            </div> </div></div></div><div class="row form-group"> <div class="col-xs-10"> <label class="required" for="emailform_dynamicContent___name___content" >Default Content</label>    </div> <div class="col-xs-2"> <a class="remove-item btn btn-default text-danger"><i class="fa fa-trash-o"></i></a> </div> </div> <div class="row form-group"> <div class="col-xs-12"> <textarea id="emailform_dynamicContent___name___content" name="emailform[dynamicContent][__name__][content]" required="required" class="form-control editor editor-dynamic-content" autocomplete="false"></textarea>    </div> </div></div></div>    </div> </div>';

  function launchPageHtml() {
    mQuery('textarea.builder-mjml').val('');
    mQuery('textarea.builder-html').val(htmlBasic);
    mQuery('textarea#grapesjsbuilder_assets').val(assets);
    Mautic.launchBuilder('page');
    return false;
  }
  function launchEmailHtml() {
    mQuery('textarea.builder-mjml').val('');
    mQuery('textarea.builder-html').val(htmlBasic);
    mQuery('textarea#grapesjsbuilder_assets').val(assets);
    mQuery('#dynamicContentPrototype').html(dynamicContentPrototype);
    mQuery('#dynamicContentPrototype').data('prototype', dynamicContentPrototype);
    Mautic.launchBuilder('emailform');
    return false;
  }
  function launchEmailMjml() {
    mQuery('textarea.builder-html').val('');
    mQuery('textarea.builder-mjml').val(mjmlbasic);
    mQuery('textarea#grapesjsbuilder_assets').val(assets);
    Mautic.launchBuilder('emailform');
    return false;
  }
</script>
<script src="http://mautic.ddev.site/media/js/libraries.js"></script>
<script src="http://mautic.ddev.site/media/js/app.js"></script>
<script src="http://mautic.ddev.site/media/js/app.js"></script>
<script src="http://mautic.ddev.site/app/bundles/CoreBundle/Assets/js/libraries/froala/froala_editor.js?v884a23a9"></script>
<script src="../../Assets/library/js/builder.js"></script>

<html>
  <head>
    <title>Hello Mautic</title>
    <link href="../../Assets/library/css/grapes.min.css" rel="stylesheet" />
  </head>
  <body>
    <div class="builder-panel"></div>
    <div class="builder"></div>
    <!-- <textarea class="builder-html"><html><body><div data-section-wrapper="1"> <center> <table data-section="1" style="width: 600;" width="600" cellpadding="0" cellspacing="0"> <tbody> <tr> <td> <div data-slot-container="1" style="min-height: 30px"> <div data-slot="text"> <br> <h2>Hello there!</h2> <br> We haven't heard from you for a while... <br> <br> <br> </div> </div> </td> </tr> </tbody> </table> </center> </div></body></html></textarea>!-->
    <h1>HTML</h1>
    <textarea class="builder-html" style="width: 100%" rows="10"></textarea>
    <h1>MJML</h1>
    <textarea class="builder-mjml" style="width: 100%" rows="10"></textarea>
    <h1>Assets</h1>
    <textarea
      id="grapesjsbuilder_assets"
      style="width: 100%"
      rows="4"
      class="hide"
      data-upload="/index_dev.php/s/grapesjsbuilder/upload"
      data-delete="/index_dev.php/s/grapesjsbuilder/delete"
    ></textarea>
    <h1>Builder Url</h1>
    <input
      type="text"
      id="builder_url"
      style="width: 100%"
      value="data/response.template.blank-mjml.json"
    />
    <h1>dynamicContentPrototype</h1>
    <div id="dynamicContentPrototype" data-prototype="" style="border: 1px solid gray"></div>

    <hr />
    <a href="#" onclick="window.scrollTo(0,0); return false;">Top</a> |
    <a href="#" onclick="return launchPageHtml();">Launch page</a> |
    <a href="#" onclick="return launchEmailHtml();">Launch emailform HTML</a>
    <a href="#" onclick="return launchEmailMjml();">Launch emailform MJML</a>
  </body>
  <script>
    launchEmailHtml();
  </script>
</html>
